<div class="mb-4 d-flex justify-content-between">
  <h3>Users</h3>
  <button
    cButton
    variant="outline"
    color="info"
    (click)="onAddUser()"
    title="Click to add user"
  >
    Add User
  </button>
</div>
<div class="table-responsive" *ngIf="!isLoading && users?.length">
  <table class="table table-hover">
    <thead class="bg-secondary">
      <tr>
        <th scope="col" class="curser-pointer">
          S No
          <i class="text-info bi"></i>
        </th>
        <th scope="col" class="curser-pointer">
          Name
          <i class="text-info bi"></i>
        </th>
        <th scope="col" class="curser-pointer">
          Email<i class="text-info bi"></i>
        </th>
        <th scope="col" class="curser-pointer">
          Role<i class="text-info bi"></i>
        </th>
        <th scope="col" class="curser-pointer">
          Branch Name<i class="text-info bi"></i>
        </th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr class="bg-white" *ngFor="let user of users; let i = index">
        <td>{{ i + serialNo }}</td>
        <td>
          {{ user.first_name }} {{ user.last_name ? user.last_name : "" }}
        </td>
        <td>{{ user.email }}</td>
        <td>{{ user.role }}</td>
        <td>{{ user.branch_name }}</td>
        <td>
          <div class="d-flex gap-3">
            <div
              class="bg-edit opacity-75 rounded-circle px-2 py-1 text-white fw-bolder curser-pointer"
              title="Edit"
              (click)="onEdit(user.id)"
            >
              <svg cIcon name="cilPencil" size="md"></svg>
            </div>
            <div
              class="bg-delete opacity-75 rounded-circle px-2 py-1 text-white fw-bolder curser-pointer"
              title="Delete"
              (click)="onDelete(user)"
            >
              <svg cIcon name="cilTrash" size="md"></svg>
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="d-flex justify-content-center mt-5">
  <div class="spinner-border" role="status" *ngIf="isLoading"></div>
  <h5 class="text-center mt-5" *ngIf="!isLoading && !users?.length">
    No list found
  </h5>
</div>

<div class="d-flex" *ngIf="users?.length">
  <app-pagination
    class="mx-auto my-3"
    [pagination]="pagination"
    (pageChange)="onPageChange($event)"
  ></app-pagination>
</div>
